#tag ModuleProtected Module LibTokyoCabinet	#tag Method, Flags = &h0		Function TC_tchdbclose(mb_hdb As MemoryBlock) As Boolean		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbclose Lib kTCLib (hdb As Ptr) As Boolean		  		  Return tchdbclose(mb_hdb)		End Function	#tag EndMethod	#tag Method, Flags = &h0		Sub TC_tchdbdel(mb_hdb As MemoryBlock)		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Sub tchdbdel Lib kTCLib (mb As Ptr)		  tchdbdel(mb_hdb)		  		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbecode(mb_hdb As MemoryBlock) As Integer		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbecode Lib kTCLib (hdb As Ptr) As Integer		  		  Return tchdbecode(mb_hdb)		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdberrmsg(i_ecode As Integer) As String		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdberrmsg Lib kTCLib (ecode As Integer) As Ptr		  		  Dim mb As MemoryBlock		  mb=tchdberrmsg(i_ecode)		  Return mb.CString(0)		  		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbget2(mb_hdb As MemoryBlock, s_key As String) As MemoryBlock		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbget2 Lib kTCLib (hdb As Ptr, key As Ptr) As Ptr		  		  Dim mb, mb2 As MemoryBlock		  mb=NewMemoryBlock(s_key.LenB+1)		  mb.CString(0)=s_key		  Window1.lb1.AddRow "GET "+s_key		  mb2=tchdbget2(mb_hdb, mb)		  if mb2.Size>-1 Then		    Window1.lb1.Cell(Window1.lb1.LastIndex,1)=mb2.CString(0)		    Return mb2.CString(0)		  Else		    Return ""		  End If		  		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Sub TC_tchdbiterinit(mb_hdb As MemoryBlock)		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Sub tchdbiterinit Lib kTCLib (hdb As Ptr)		  		  tchdbiterinit(mb_hdb)		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbiternext2(mb_hdb As MemoryBlock) As MemoryBlock		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbiternext2 Lib kTCLib (hdb As Ptr) As Ptr		  		  dim mb As MemoryBlock=tchdbiternext2(mb_hdb)		  Return mb		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbnew() As MemoryBlock		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbnew Lib kTCLib () As Ptr		  Dim mb As MemoryBlock=NewMemoryBlock(4)		  mb=tchdbnew()		  Return mb		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbopen(mb_hdb As MemoryBlock, s_path As String, i_flags As Integer) As Boolean		  //tchdbopen(hdb, "casket.hdb", HDBOWRITER | HDBOCREAT))		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbopen Lib kTCLib (hdb As Ptr, path As Ptr, flags As Integer) As Boolean		  		  dim mb_path As MemoryBlock		  mb_path=s_path		  		  Return tchdbopen(mb_hdb, mb_path, i_flags)		  		  		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbout2(mb_hdb As MemoryBlock, s_key As String) As Boolean		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbout2 Lib kTCLib (hdb As Ptr, key As Ptr) As Boolean		  		  Dim mb As MemoryBlock		  mb=s_key		  Return tchdbout2(mb_hdb, mb)		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Function TC_tchdbput2(mb_hdb As MemoryBlock, s_key As String, s_value As String) As Boolean		  #if DebugBuild		    Const kTCLib="/tmp/libtokyocabinet.3.9.0.dylib"		  #else		    Const kTCLib="@executable_path/../Frameworks/libtokyocabinet.3.9.0.dylib"		  #endif		  		  Declare Function tchdbput2 Lib kTCLib (hdb As Ptr, key As Ptr, value As Ptr) As Boolean		  Dim mb_key, mb_value As MemoryBlock		  mb_key=s_key+ChrB(0)		  mb_value=s_value+ChrB(0)		  Return tchdbput2(mb_hdb, mb_key, mb_value)		  		End Function	#tag EndMethod	#tag Constant, Name = HDBFFATAL, Type = Double, Dynamic = False, Default = \"2", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBFOPEN, Type = Double, Dynamic = False, Default = \"1", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBOCREAT, Type = Double, Dynamic = False, Default = \"4", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBOLCKNB, Type = Double, Dynamic = False, Default = \"32", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBONOLCK, Type = Double, Dynamic = False, Default = \"16", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBOREADER, Type = Double, Dynamic = False, Default = \"1", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBOTRUNC, Type = Double, Dynamic = False, Default = \"8", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBOWRITER, Type = Double, Dynamic = False, Default = \"2", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBTDEFLATE, Type = Double, Dynamic = False, Default = \"2", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBTLARGE, Type = Double, Dynamic = False, Default = \"1", Scope = Public	#tag EndConstant	#tag Constant, Name = HDBTTCBS, Type = Double, Dynamic = False, Default = \"4", Scope = Public	#tag EndConstant	#tag ViewBehavior		#tag ViewProperty			Name="Index"			Visible=true			Group="ID"			InitialValue="-2147483648"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Left"			Visible=true			Group="Position"			InitialValue="0"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Name"			Visible=true			Group="ID"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Super"			Visible=true			Group="ID"			InheritedFrom="Object"		#tag EndViewProperty		#tag ViewProperty			Name="Top"			Visible=true			Group="Position"			InitialValue="0"			InheritedFrom="Object"		#tag EndViewProperty	#tag EndViewBehaviorEnd Module#tag EndModule